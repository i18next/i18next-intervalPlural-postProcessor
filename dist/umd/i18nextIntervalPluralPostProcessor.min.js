!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.i18nextIntervalPluralPostProcessor=e()}(this,function(){"use strict";function t(t,e){if(t.indexOf("-")>-1){var n=t.split("-");if("inf"===n[1])return e>=parseInt(n[0],10);var r=parseInt(n[0],10),o=parseInt(n[1],10);return e>=r&&e<=o}return parseInt(t,10)===e}!function(){function t(t){this.value=t}function e(e){function n(o,i){try{var s=e[o](i),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(s.done?"return":"normal",s.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(t,e){return new Promise(function(r,s){var a={key:t,arg:e,resolve:r,reject:s,next:null};i?i=i.next=a:(o=i=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return{name:"interval",type:"postProcessor",options:{intervalSeparator:";",intervalRegex:/\((\S*)\).*?\[((.|\n)*)\]/,intervalSuffix:"_interval"},setOptions:function(t){this.options=e({},this.options,t)},process:function(n,r,o,i){var s=this,a=void 0;if(n.split(this.options.intervalSeparator).forEach(function(e){if(!a){var n=s.options.intervalRegex.exec(e);n&&t(n[1],o.count||0)&&(a=n[2])}}),!a){var u=e({},o);if("string"==typeof u.postProcess)delete u.postProcess;else{var f=u.postProcess.indexOf("interval");-1!==f&&u.postProcess.splice(f,1)}var c=void 0;"string"==typeof r?c=r.replace(this.options.intervalSuffix,""):r.length>-1&&(c=r.map(function(t){return t.replace(s.options.intervalSuffix,"")})),c&&(a=i.translate(c,u))}return a||n}}});
